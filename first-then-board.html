<!DOCTYPE html>
<!--
====================================================================================
KAIDEN'S WORLD - AAC Communication Application
Official Repository: https://github.com/Benwah81/Kaidens-World
Original Author: Ben Wahlers
License: Creative Commons BY-NC-SA 4.0 (See LICENSE file)
====================================================================================

‚ö†Ô∏è OFFICIAL VERSION NOTICE:
The ONLY official version of Kaiden's World is hosted at:
https://benwah81.github.io/Kaidens-World/

Any other versions, modifications, or distributions are NOT affiliated with,
endorsed by, or attributed to the original creator unless explicitly stated.

====================================================================================

üìã IMPORTANT DISCLAIMERS:

1. LIABILITY: This software is provided "AS-IS" for therapeutic and educational 
   purposes only. The original author is NOT responsible for any modified versions, 
   malicious use, or damages arising from the use of this or modified software.

2. THERAPEUTIC USE: This is a supplemental communication tool and does NOT replace 
   professional medical advice. Always consult qualified speech-language pathologists 
   or therapists for AAC and communication needs.

3. MODIFIED VERSIONS: If you modify this code, you MUST clearly state it's modified,
   provide attribution to the original author, and NOT imply endorsement by the 
   original creator.

====================================================================================
For full license terms, see: LICENSE file in repository
For commercial use inquiries: Contact via GitHub repository
====================================================================================
-->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üìã First-Then Board - Kaiden's World</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; user-select: none; -webkit-user-select: none; }
        body { font-family: Arial, sans-serif; background: linear-gradient(135deg, #e8eaf6 0%, #c5cae9 100%); min-height: 100vh; padding: 20px; touch-action: manipulation; }
        .back-button { position: fixed; top: 20px; left: 20px; background: white; color: #3f51b5; border: 2px solid #3f51b5; padding: 15px 30px; border-radius: 25px; font-weight: bold; cursor: pointer; box-shadow: 0 5px 15px rgba(0,0,0,0.2); z-index: 1000; text-decoration: none; font-size: 1.2em; }
        .back-button:active { transform: scale(0.95); }
        .header { text-align: center; margin: 60px 0 30px; color: #3f51b5; }
        .header h1 { font-size: 2.5em; font-weight: bold; margin-bottom: 10px; }
        .subtitle { font-size: 1.3em; color: #666; margin-bottom: 20px; }
        .instruction { background: #fff3e0; padding: 15px; border-radius: 15px; font-size: 1.1em; font-weight: bold; color: #f57c00; margin-bottom: 20px; text-align: center; }
        .board-container { max-width: 1200px; margin: 0 auto; }
        .first-then-board { display: grid; grid-template-columns: 1fr auto 1fr; gap: 20px; background: white; border-radius: 25px; padding: 30px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); margin-bottom: 30px; }
        .board-section { text-align: center; }
        .board-label { font-size: 2.5em; font-weight: bold; padding: 15px; border-radius: 20px; margin-bottom: 20px; }
        .board-label.first { background: #ffebee; color: #f44336; }
        .board-label.then { background: #e8f5e9; color: #4caf50; }
        .drop-zone { min-height: 300px; border: 5px dashed; border-radius: 25px; display: flex; align-items: center; justify-content: center; padding: 20px; transition: all 0.3s ease; background: #f8f9fa; cursor: pointer; }
        .drop-zone.first { border-color: #f44336; }
        .drop-zone.then { border-color: #4caf50; }
        .drop-zone.active { border-style: solid; background: #e3f2fd; transform: scale(1.05); }
        .placeholder-text { color: #999; font-size: 1.3em; text-align: center; }
        .arrow { font-size: 5em; display: flex; align-items: center; animation: pulse 2s infinite; }
        @keyframes pulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.2); } }
        .placed-activity { background: white; border-radius: 20px; padding: 25px; box-shadow: 0 8px 20px rgba(0,0,0,0.15); animation: dropIn 0.5s ease-out; }
        .placed-activity .activity-icon { font-size: 5em; margin-bottom: 15px; }
        .placed-activity .activity-name { font-size: 1.5em; font-weight: bold; margin-bottom: 15px; }
        @keyframes dropIn { 0% { transform: scale(0.5); opacity: 0; } 70% { transform: scale(1.1); } 100% { transform: scale(1); opacity: 1; } }
        .remove-btn { background: #f44336; color: white; border: none; padding: 12px 25px; border-radius: 15px; cursor: pointer; margin-top: 15px; font-weight: bold; font-size: 1.1em; }
        .remove-btn:active { transform: scale(0.95); }
        .activity-bank { background: white; border-radius: 25px; padding: 25px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); margin-bottom: 30px; }
        .bank-title { font-size: 1.8em; font-weight: bold; color: #3f51b5; margin-bottom: 20px; text-align: center; }
        .activities-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 15px; }
        .activity-card { background: #e8eaf6; border-radius: 20px; padding: 20px; text-align: center; cursor: pointer; transition: all 0.3s ease; border: 4px solid #3f51b5; min-height: 130px; display: flex; flex-direction: column; justify-content: center; align-items: center; }
        .activity-card:active { transform: scale(0.95); }
        .activity-card.selected { background: #ffd54f; border-color: #ff9800; transform: scale(1.1); box-shadow: 0 8px 20px rgba(255,152,0,0.4); animation: selectedPulse 1s ease-in-out infinite; }
        @keyframes selectedPulse { 0%, 100% { box-shadow: 0 8px 20px rgba(255,152,0,0.4); } 50% { box-shadow: 0 12px 30px rgba(255,152,0,0.6); } }
        .activity-icon { font-size: 3em; margin-bottom: 10px; }
        .activity-name { font-size: 1em; font-weight: bold; color: #3f51b5; }
        .controls { display: flex; gap: 15px; justify-content: center; margin-top: 30px; flex-wrap: wrap; }
        .btn { padding: 18px 35px; border: none; border-radius: 25px; font-size: 1.3em; font-weight: bold; cursor: pointer; box-shadow: 0 5px 15px rgba(0,0,0,0.2); transition: all 0.2s ease; }
        .btn:active { transform: scale(0.95); }
        .btn-play { background: #4caf50; color: white; }
        .btn-clear { background: #ff9800; color: white; }
        @media (max-width: 768px) {
            .header h1 { font-size: 2em; }
            .first-then-board { grid-template-columns: 1fr; gap: 15px; padding: 20px; }
            .arrow { font-size: 3em; transform: rotate(90deg); }
            .activities-grid { grid-template-columns: repeat(2, 1fr); }
            .board-label { font-size: 2em; }
        }
    </style>
</head>
<body>
    <a href="index.html" class="back-button">üè† Back</a>
    
    <div class="header">
        <h1>üìã First-Then Board üìã</h1>
        <p class="subtitle">What happens first, then what comes next!</p>
    </div>

    <div class="board-container">
        <div class="instruction" id="instruction">1Ô∏è‚É£ Tap an activity below to select it</div>
        
        <div class="first-then-board">
            <div class="board-section">
                <div class="board-label first">FIRST</div>
                <div class="drop-zone first" id="firstZone" onclick="placeActivity('first')">
                    <div class="placeholder-text">Tap here after selecting activity</div>
                </div>
            </div>
            
            <div class="arrow">‚û°Ô∏è</div>
            
            <div class="board-section">
                <div class="board-label then">THEN</div>
                <div class="drop-zone then" id="thenZone" onclick="placeActivity('then')">
                    <div class="placeholder-text">Tap here after selecting reward</div>
                </div>
            </div>
        </div>

        <div class="activity-bank">
            <div class="bank-title">üìö Activities & Rewards</div>
            <div class="activities-grid" id="activitiesGrid"></div>
        </div>

        <div class="controls">
            <button class="btn btn-play" onclick="playSequence()">‚ñ∂Ô∏è Play Sequence</button>
            <button class="btn btn-clear" onclick="clearBoard()">üîÑ Clear Board</button>
        </div>
    </div>

    <script>
        const activities = [
            { id: 'brush', icon: 'ü™•', name: 'Brush Teeth' },
            { id: 'wash', icon: 'üßº', name: 'Wash Hands' },
            { id: 'eat', icon: 'üçΩÔ∏è', name: 'Eat Food' },
            { id: 'sleep', icon: 'üò¥', name: 'Bedtime' },
            { id: 'homework', icon: 'üìù', name: 'Homework' },
            { id: 'clean', icon: 'üßπ', name: 'Clean Up' },
            { id: 'bath', icon: 'üõÅ', name: 'Take Bath' },
            { id: 'dress', icon: 'üëï', name: 'Get Dressed' },
            { id: 'shoes', icon: 'üëü', name: 'Put On Shoes' },
            { id: 'coat', icon: 'üß•', name: 'Wear Coat' },
            { id: 'tv', icon: 'üì∫', name: 'TV Time' },
            { id: 'play', icon: 'üéÆ', name: 'Play Time' },
            { id: 'dessert', icon: 'üç¶', name: 'Dessert' },
            { id: 'story', icon: 'üìñ', name: 'Story Time' },
            { id: 'outside', icon: 'üå≥', name: 'Go Outside' },
            { id: 'game', icon: 'üé≤', name: 'Play Game' },
            { id: 'music', icon: 'üéµ', name: 'Music Time' },
            { id: 'tablet', icon: 'üì±', name: 'Tablet Time' }
        ];

        let selectedActivity = null;
        let firstActivity = null;
        let thenActivity = null;

        function init() {
            const grid = document.getElementById('activitiesGrid');
            grid.innerHTML = activities.map(a => `
                <div class="activity-card" data-id="${a.id}" onclick="selectActivity('${a.id}')">
                    <div class="activity-icon">${a.icon}</div>
                    <div class="activity-name">${a.name}</div>
                </div>
            `).join('');
        }

        function selectActivity(id) {
            const activity = activities.find(a => a.id === id);
            selectedActivity = activity;
            
            // Update visual selection
            document.querySelectorAll('.activity-card').forEach(card => {
                card.classList.toggle('selected', card.dataset.id === id);
            });

            // Highlight available zones
            if (!firstActivity) {
                document.getElementById('firstZone').classList.add('active');
                document.getElementById('instruction').textContent = '2Ô∏è‚É£ Tap the FIRST box to place it';
            } else if (!thenActivity) {
                document.getElementById('thenZone').classList.add('active');
                document.getElementById('instruction').textContent = '2Ô∏è‚É£ Tap the THEN box to place it';
            }

            speak(`Selected ${activity.name}`);
        }

        function placeActivity(zone) {
            if (!selectedActivity) {
                speak('Please select an activity first');
                return;
            }

            if (zone === 'first' && !firstActivity) {
                firstActivity = selectedActivity;
                updateZone('firstZone', selectedActivity);
                speak(`First ${selectedActivity.name}`);
                document.getElementById('instruction').textContent = '3Ô∏è‚É£ Select a reward activity';
            } else if (zone === 'then' && !thenActivity) {
                thenActivity = selectedActivity;
                updateZone('thenZone', selectedActivity);
                speak(`Then ${selectedActivity.name}`);
                document.getElementById('instruction').textContent = '‚úÖ All set! Press play to hear it';
            }

            // Clear selection and highlights
            selectedActivity = null;
            document.querySelectorAll('.activity-card').forEach(card => card.classList.remove('selected'));
            document.querySelectorAll('.drop-zone').forEach(zone => zone.classList.remove('active'));
        }

        function updateZone(zoneId, activity) {
            document.getElementById(zoneId).innerHTML = `
                <div class="placed-activity">
                    <div class="activity-icon">${activity.icon}</div>
                    <div class="activity-name">${activity.name}</div>
                    <button class="remove-btn" onclick="removeFromZone('${zoneId}', event)">Remove</button>
                </div>
            `;
        }

        function removeFromZone(zoneId, event) {
            event.stopPropagation();
            const isFirst = zoneId === 'firstZone';
            
            if (isFirst) {
                firstActivity = null;
                document.getElementById(zoneId).innerHTML = '<div class="placeholder-text">Tap here after selecting activity</div>';
                document.getElementById('instruction').textContent = '1Ô∏è‚É£ Select an activity to place FIRST';
            } else {
                thenActivity = null;
                document.getElementById(zoneId).innerHTML = '<div class="placeholder-text">Tap here after selecting reward</div>';
                document.getElementById('instruction').textContent = '1Ô∏è‚É£ Select a reward for THEN';
            }
            
            speak(isFirst ? 'First activity removed' : 'Then activity removed');
        }

        function playSequence() {
            if (!firstActivity || !thenActivity) {
                speak('Please add both activities first');
                return;
            }

            speak(`First ${firstActivity.name}, THEN ${thenActivity.name}!`);
            createCelebration();
        }

        function clearBoard() {
            firstActivity = null;
            thenActivity = null;
            selectedActivity = null;
            
            document.getElementById('firstZone').innerHTML = '<div class="placeholder-text">Tap here after selecting activity</div>';
            document.getElementById('thenZone').innerHTML = '<div class="placeholder-text">Tap here after selecting reward</div>';
            document.getElementById('instruction').textContent = '1Ô∏è‚É£ Tap an activity below to select it';
            
            document.querySelectorAll('.activity-card').forEach(card => card.classList.remove('selected'));
            document.querySelectorAll('.drop-zone').forEach(zone => zone.classList.remove('active'));
            
            speak('Board cleared');
        }

        function speak(text) {
            if ('speechSynthesis' in window) {
                speechSynthesis.cancel();
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.rate = 0.85;
                utterance.pitch = 1.1;
                utterance.volume = 0.9;
                speechSynthesis.speak(utterance);
            }
        }

        function createCelebration() {
            const emojis = ['üéâ', '‚≠ê', '‚ú®', 'üåü', 'üí´', 'üéä'];
            for (let i = 0; i < 12; i++) {
                setTimeout(() => {
                    const emoji = document.createElement('div');
                    emoji.style.cssText = `
                        position: fixed;
                        font-size: 3em;
                        pointer-events: none;
                        z-index: 9999;
                        animation: celebrate 2s ease-out forwards;
                    `;
                    emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];
                    emoji.style.left = Math.random() * window.innerWidth + 'px';
                    emoji.style.top = window.innerHeight + 'px';
                    document.body.appendChild(emoji);
                    
                    const style = document.createElement('style');
                    style.textContent = `
                        @keyframes celebrate {
                            0% { transform: translateY(0) rotate(0deg); opacity: 1; }
                            100% { transform: translateY(-${window.innerHeight + 100}px) rotate(360deg); opacity: 0; }
                        }
                    `;
                    document.head.appendChild(style);
                    
                    setTimeout(() => {
                        if (emoji.parentNode) emoji.parentNode.removeChild(emoji);
                        if (style.parentNode) style.parentNode.removeChild(style);
                    }, 2000);
                }, i * 100);
            }
        }

        // Initialize
        window.addEventListener('DOMContentLoaded', () => {
            init();
            speak('Tap an activity to get started');
        });
    </script>
</body>
</html>